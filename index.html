<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mestre PUMPFUN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; background:black; color:white; font-family:Arial,sans-serif; overflow-x:hidden;}
    canvas { position:fixed; top:0; left:0; z-index:-1; }
    header { text-align:center; padding:50px 20px; }
    h1 { font-size:3em; background:linear-gradient(90deg,red,orange,yellow,green,cyan,blue,violet); -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation:glow 3s infinite; }
    @keyframes glow { 0%{filter:drop-shadow(0 0 5px #fff);} 50%{filter:drop-shadow(0 0 20px #0ff);} 100%{filter:drop-shadow(0 0 5px #fff);} }
    p { max-width:700px; margin:auto; font-size:1.2em; }
    .links a { display:inline-block; margin:10px; padding:10px 20px; border:2px solid white; color:white; text-decoration:none; border-radius:20px; transition:.3s; }
    .links a:hover{ background:white; color:black; }
    #onlineCounter { margin-top:20px; font-size:1.2em; color:#42f5a1; text-shadow:0 0 5px #42f5a1; }
    #wallet { margin:20px auto; max-width:600px; background:#111; padding:20px; border-radius:10px; }
    #pumpfun { margin:20px auto; max-width:600px; background:#111; padding:20px; border-radius:10px; }
    input, button { padding:10px; margin:5px 0; border-radius:5px; border:none; }
    button { cursor:pointer; background:#42f5a1; color:black; font-weight:bold; }
    footer { text-align:center; padding:30px; font-size:.9em; opacity:.7; }
    ul { padding-left:20px; }
  </style>
</head>
<body>

<canvas id="space"></canvas>

<header>
  <h1>Mestre PUMPFUN</h1>
  <p>Plataforma online onde Tib√∫rcio √© minerado direto no site.<br>Crie sua carteira, mineire e use Tib√∫rcio para criar memecoins.</p>
  <div class="links">
    <a href="https://github.com/Mestrie1/tiburcio-blockchain" target="_blank">Blockchain Tib√∫rcio</a>
    <a href="https://www.tiktok.com/@mestreensinador?_r=1&_t=ZS-92edf2i1T1h" target="_blank">TikTok</a>
  </div>
  <p id="onlineCounter">üëÅÔ∏è Pessoas online agora: 0</p>
</header>

<!-- Carteira -->
<div id="wallet">
  <h2>Crie sua carteira Tib√∫rcio</h2>
  <button onclick="createWallet()">Criar carteira</button>
  <button onclick="loadWallet()">Conectar carteira existente</button>
  <p id="walletInfo"></p>
</div>

<!-- Pumpfun -->
<div id="pumpfun">
  <h2>PumpFun ‚Äî Crie sua memecoin</h2>
  <input type="text" id="memeName" placeholder="Nome da sua memecoin">
  <button onclick="createMeme()">Criar memecoin</button>
  <p id="memeInfo"></p>
  <h3>Hist√≥rico de Memecoins</h3>
  <ul id="memeHistory"></ul>
</div>

<footer>Mestre Ensinador ¬© 2025 ‚Äî Luz, c√≥digo e descentraliza√ß√£o</footer>

<script>
  // --------------------------
  // CANVAS ESTRELAS
  // --------------------------
  const canvas = document.getElementById("space");
  const ctx = canvas.getContext("2d");
  function resize(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
  window.addEventListener("resize",resize);
  resize();
  let stars = Array.from({length:300},()=>({x:Math.random()*canvas.width, y:Math.random()*canvas.height, z:Math.random()*canvas.width}));
  function animate(){
    ctx.fillStyle="black"; ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="white"; stars.forEach(s=>{
      s.z-=2; if(s.z<=0) s.z=canvas.width;
      const k=128/s.z, x=s.x*k+canvas.width/2, y=s.y*k+canvas.height/2;
      if(x>=0 && x<=canvas.width && y>=0 && y<=canvas.height){ const size=(1-s.z/canvas.width)*2; ctx.fillRect(x,y,size,size);}
    });
    requestAnimationFrame(animate);
  }
  animate();

  // --------------------------
  // CONTADOR DE PESSOAS ONLINE
  // --------------------------
  let onlineCount=Math.floor(Math.random()*50)+1;
  function updateOnlineCounter(){ onlineCount+=Math.floor(Math.random()*3)-1; if(onlineCount<1)onlineCount=1; document.getElementById('onlineCounter').innerText=`üëÅÔ∏è Pessoas online agora: ${onlineCount}`; }
  setInterval(updateOnlineCounter,2000);

  // --------------------------
  // CARTEIRA TIBURCIO
  // --------------------------
  let userWallet = null;

  function createWallet(){
    const address = 'TIB' + Math.floor(Math.random()*1e16).toString(16);
    const privateKey = Math.random().toString(36).substring(2,18);
    userWallet = {address, privateKey};
    localStorage.setItem('tibWallet', JSON.stringify(userWallet));
    document.getElementById('walletInfo').innerText = `Endere√ßo: ${address}\nChave privada: ${privateKey}`;
  }

  function loadWallet(){
    const walletData = localStorage.getItem('tibWallet');
    if(walletData){
      userWallet = JSON.parse(walletData);
      document.getElementById('walletInfo').innerText = `Conectado: ${userWallet.address}`;
    } else {
      alert('Nenhuma carteira encontrada. Crie uma nova.');
    }
  }

  // --------------------------
  // PUMPFUN ‚Äî CRIAR MEMECOIN
  // --------------------------
  async function createMeme(){
    if(!userWallet){ alert('Crie sua carteira primeiro!'); return; }
    const name = document.getElementById('memeName').value;
    if(!name){ alert('Digite o nome da memecoin'); return; }

    try{
      const response = await fetch('http://SEU_SERVIDOR:8082/create_meme', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({
          walletAddress: userWallet.address,
          privateKey: userWallet.privateKey,
          memeName: name
        })
      });
      const data = await response.json();
      document.getElementById('memeInfo').innerText = `üéâ Memecoin "${name}" criada com sucesso!\nCusto: ${data.cost} Tib√∫rcio`;

      const history = document.getElementById('memeHistory');
      const li = document.createElement('li');
      li.textContent = `${name} ‚Äî Custo: ${data.cost} Tib√∫rcio`;
      history.appendChild(li);
    } catch(e){
      console.error(e);
      alert('Erro ao criar memecoin. Verifique se o servidor Tib√∫rcio est√° rodando.');
    }
  }

  // --------------------------
  // SONS SIMULADOS ONLINE
  // --------------------------
  const soundGreen = new Audio('https://cdn.jsdelivr.net/gh/Mestrie1/pumpfun-tiburcio/sounds/candle_green.mp3');
  const soundRed = new Audio('https://cdn.jsdelivr.net/gh/Mestrie1/pumpfun-tiburcio/sounds/candle_red.mp3');
  const soundEpic = new Audio('https://cdn.jsdelivr.net/gh/Mestrie1/pumpfun-tiburcio/sounds/marketcap.mp3');

  function playCandleSound(type){ if(type==='green') soundGreen.play(); if(type==='red') soundRed.play(); }
  function simulateCandle(){ const isGreen=Math.random()>0.5; if(isGreen) playCandleSound('green'); else playCandleSound('red'); setTimeout(simulateCandle,5000); }
  simulateCandle();
</script>
</body>
</html>
